#!/bin/bash

DEVICE_TYPE=$1
BASE_PATH="/dev/input/"
MAX_RETRIES=10

# Find the next available name
for i in $(seq 1 $MAX_RETRIES); do
    NEW_NAME="${DEVICE_TYPE}${i}"
    NEW_PATH="${BASE_PATH}${NEW_NAME}"

    if [ ! -e "$NEW_PATH" ]; then
        echo "Creating device symlink: $NEW_PATH"
        ln -s "$DEVNAME" "$NEW_PATH"
        exit 0
    fi
done

echo "Error: Could not find available name for $DEVICE_TYPE" >&2
exit 1

