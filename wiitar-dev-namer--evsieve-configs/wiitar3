#!/bin/bash
evsieve \
	--input /dev/input/wiimote3 domain=wiimote grab persist=exit \
		--map btn:south@wiimote btn:mode@wiitar \
		--map btn:1@wiimote btn:thumbl@wiitar \
		--map btn:2@wiimote btn:thumbr@wiitar \
		--map btn:mode@wiimote btn:z@wiitar \
		--map key:next@wiimote btn:start@wiitar \
		--map key:previous@wiimote btn:select@wiitar \
		--map key:left@wiimote btn:dpad_up@wiitar \
		--map key:right@wiimote btn:dpad_down@wiitar \
		--map key:up@wiimote btn:dpad_left@wiitar \
		--map key:down@wiimote btn:dpad_right@wiitar \
	--input /dev/input/wiimote-guitar3 domain=guitar grab persist=exit \
		--map btn:1@guitar btn:south@wiitar \
		--map btn:2@guitar btn:east@wiitar \
		--map btn:3@guitar btn:north@wiitar \
		--map btn:4@guitar btn:west@wiitar \
		--map btn:5@guitar btn:tl@wiitar \
		--map btn:start@guitar btn:start@wiitar \
		--map btn:select@guitar btn:select@wiitar \
		--map btn:dpad_up@guitar btn:dpad_up@wiitar \
		--map btn:dpad_down@guitar btn:dpad_down@wiitar \
		--map abs:hat1x@guitar abs:rx:3x@wiitar \
		--map abs:x@guitar abs:x@wiitar \
		--map abs:y@guitar abs:y@wiitar \
	--input /dev/input/wiimote-accel3 domain=accel grab persist=exit \
		--block abs:rz@accel abs:rx@accel \
		--map abs:ry:-59~..~-60@accel btn:select:1@wiitar \
		--map abs:ry:~-60..-59~@accel btn:select:0@wiitar \
	--output name="Wiitar w/ Tilt" @wiitar
